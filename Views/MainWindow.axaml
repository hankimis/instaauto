<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        x:Class="InstagramDMSender.Avalonia.MainWindow"
        Title="ì¸ìŠ¤íƒ€ê·¸ëž¨ ë‹¤ì´ë ‰íŠ¸ë©”ì„¸ì§€ ìžë™í™”"
        Width="1400"
        Height="930"
        Background="#2a2a2a"
        CanResize="True"
        WindowStartupLocation="CenterScreen">
  
  <Window.Styles>
    <Style Selector="Button">
      <Setter Property="Background" Value="#404040"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="BorderBrush" Value="#606060"/>
      <Setter Property="Padding" Value="12,6"/>
      <Setter Property="CornerRadius" Value="4"/>
      <Setter Property="FontWeight" Value="Medium"/>
      <Setter Property="Cursor" Value="Hand"/>
    </Style>
    
    <Style Selector="Button:hover">
      <Setter Property="Background" Value="#505050"/>
    </Style>
    
    <Style Selector="Button:pointerover">
      <Setter Property="Background" Value="#505050"/>
    </Style>
    
    <Style Selector="Button.primary">
      <Setter Property="Background" Value="#FFD700"/>
      <Setter Property="Foreground" Value="Black"/>
      <Setter Property="BorderBrush" Value="#FFD700"/>
    </Style>
    
    <Style Selector="Button.primary:hover">
      <Setter Property="Background" Value="#FFED4E"/>
    </Style>
    
    <Style Selector="Button.danger">
      <Setter Property="Background" Value="#dc3545"/>
      <Setter Property="BorderBrush" Value="#dc3545"/>
    </Style>
    
    <Style Selector="Button.danger:hover">
      <Setter Property="Background" Value="#c82333"/>
    </Style>
    
    <Style Selector="TextBox">
      <Setter Property="Background" Value="#1a1a1a"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderBrush" Value="#606060"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="3"/>
      <Setter Property="Padding" Value="8,6"/>
    </Style>
    
    <Style Selector="ComboBox">
      <Setter Property="Background" Value="#1a1a1a"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderBrush" Value="#606060"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="3"/>
      <Setter Property="Padding" Value="8,6"/>
    </Style>
    
    <Style Selector="CheckBox">
      <Setter Property="Foreground" Value="White"/>
    </Style>
    
    <Style Selector="TextBlock">
      <Setter Property="Foreground" Value="White"/>
    </Style>
    
    <Style Selector="Border.panel">
      <Setter Property="Background" Value="#1a1a1a"/>
      <Setter Property="BorderBrush" Value="#606060"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="6"/>
      <Setter Property="Padding" Value="16"/>
    </Style>
  </Window.Styles>

  <Grid RowDefinitions="Auto,*,Auto" ColumnDefinitions="*" Margin="16">
    
    <!-- Header -->
    <Border Grid.Row="0" Background="#1a1a1a" CornerRadius="8" Padding="16" Margin="0,0,0,16">
      <Grid ColumnDefinitions="Auto,*,Auto" VerticalAlignment="Center">
        <StackPanel Orientation="Horizontal" Spacing="8">
          <TextBlock Text="ðŸ“±" FontSize="24"/>
          <TextBlock Text="InstaDMSender Ver. 1.0.4" FontSize="18" FontWeight="Bold" VerticalAlignment="Center"/>
        </StackPanel>
        <TextBlock Grid.Column="1" Text="Instagram DM ìžë™í™” ë„êµ¬" FontSize="16" HorizontalAlignment="Center" Foreground="#FFD700"/>
        <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="8">
          <Button x:Name="StartBrowserButton" Content="ðŸŒ ë¸Œë¼ìš°ì € ì‹œìž‘" Classes="primary" MinWidth="100"/>
          <Button x:Name="StartSendingButton" Content="â–¶ï¸ ì „ì†¡ ì‹œìž‘" Classes="primary" MinWidth="100"/>
          <Button x:Name="StopButton" Content="â¹ï¸ ì¤‘ì§€" Classes="danger" MinWidth="80"/>
        </StackPanel>
      </Grid>
    </Border>

    <!-- 3-Panel Main -->
    <Grid Grid.Row="1" ColumnDefinitions="1.2*,1.2*" ColumnSpacing="16">
      
      

      <!-- Center Column: Message -->
      <StackPanel Grid.Column="0" Orientation="Vertical" Spacing="16">
        <Border Classes="panel">
          <StackPanel Orientation="Vertical" Spacing="8">
            <Grid ColumnDefinitions="*,Auto" VerticalAlignment="Center">
              <TextBlock Text="ë³´ë‚´ì‹¤ DM ìž‘ì„±" FontSize="14" FontWeight="Bold"/>
              <Button Grid.Column="1" Content="ë³´ë‚´ì‹¤ ë‹¤ì´ë ‰íŠ¸ë©”ì„¸ì§€ ìž‘ì„±í•˜ê¸°" Classes="primary"/>
            </Grid>
            <TextBox x:Name="MessageTemplate" Height="160" AcceptsReturn="True" TextWrapping="Wrap"
                     Watermark="ë©”ì‹œì§€ í…œí”Œë¦¿ì„ ìž…ë ¥í•˜ì„¸ìš”. {Username}ìœ¼ë¡œ ì‚¬ìš©ìžëª…ì„ ì‚½ìž…í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."/>
          </StackPanel>
        </Border>

        <!-- Filters Panel -->
        <Border Classes="panel">
          <StackPanel Orientation="Vertical" Spacing="8">
            <TextBlock Text="ðŸ” í•„í„° ì„¤ì •" FontSize="14" FontWeight="Medium"/>
            <Grid ColumnDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto" RowDefinitions="Auto,Auto,Auto,Auto,Auto" ColumnSpacing="8" RowSpacing="8">
              <!-- Row 0: switch + privacy -->
              <CheckBox x:Name="UseFiltersCheck" Grid.Row="0" Grid.Column="0" Content="í•„í„° ì‚¬ìš©" IsChecked="True"/>
              <TextBlock Grid.Row="0" Grid.Column="3" Text="ê³µê°œë²”ìœ„:" VerticalAlignment="Center" FontWeight="Medium"/>
              <ComboBox x:Name="PrivacyCombo" Grid.Row="0" Grid.Column="4" Width="120" SelectedIndex="0">
                <ComboBoxItem Content="ëª¨ë“ "/>
                <ComboBoxItem Content="ê³µê°œë§Œ"/>
                <ComboBoxItem Content="ë¹„ê³µê°œë§Œ"/>
              </ComboBox>

              <!-- Row 1: interval -->
              <TextBlock Grid.Row="1" Grid.Column="0" Text="ì¸í„°ë²Œ:" VerticalAlignment="Center" FontWeight="Medium"/>
              <TextBox x:Name="IntervalMin" Grid.Row="1" Grid.Column="1" Width="80" Text="3"/>
              <TextBlock Grid.Row="1" Grid.Column="2" Text="~" VerticalAlignment="Center"/>
              <TextBox x:Name="IntervalMax" Grid.Row="1" Grid.Column="3" Width="80" Text="5"/>
              <TextBlock Grid.Row="1" Grid.Column="4" Text="ë¶„" VerticalAlignment="Center"/>

              <!-- Row 2: pause -->
              <TextBlock Grid.Row="2" Grid.Column="0" Text="íœ´ì‹:" VerticalAlignment="Center" FontWeight="Medium"/>
              <TextBox x:Name="PauseUsers" Grid.Row="2" Grid.Column="1" Width="80" Text="20"/>
              <TextBlock Grid.Row="2" Grid.Column="2" Text="ëª…ë§ˆë‹¤" VerticalAlignment="Center"/>
              <TextBox x:Name="PauseDuration" Grid.Row="2" Grid.Column="3" Width="80" Text="20"/>
              <TextBlock Grid.Row="2" Grid.Column="4" Text="ë¶„" VerticalAlignment="Center"/>

              <!-- Row 3: max + posts -->
              <TextBlock Grid.Row="3" Grid.Column="0" Text="ìµœëŒ€:" VerticalAlignment="Center" FontWeight="Medium"/>
              <TextBox x:Name="MaxUsers" Grid.Row="3" Grid.Column="1" Width="100" Text="100"/>
              <TextBlock Grid.Row="3" Grid.Column="2" Text="ëª…" VerticalAlignment="Center"/>
              <TextBlock Grid.Row="3" Grid.Column="3" Text="ê²Œì‹œë¬¼:" VerticalAlignment="Center" FontWeight="Medium"/>
              <TextBox x:Name="PostsMin" Grid.Row="3" Grid.Column="4" Width="80" Text="1"/>
              <TextBlock Grid.Row="3" Grid.Column="5" Text="~" VerticalAlignment="Center"/>
              <TextBox x:Name="PostsMax" Grid.Row="3" Grid.Column="6" Width="100" Text="100000"/>

              <!-- Row 4: followers -->
              <TextBlock Grid.Row="4" Grid.Column="0" Text="íŒ”ë¡œì›Œ:" VerticalAlignment="Center" FontWeight="Medium"/>
              <TextBox x:Name="FollowersMin" Grid.Row="4" Grid.Column="1" Width="80" Text="0"/>
              <TextBlock Grid.Row="4" Grid.Column="2" Text="~" VerticalAlignment="Center"/>
              <TextBox x:Name="FollowersMax" Grid.Row="4" Grid.Column="3" Width="120" Text="10000000"/>
            </Grid>
          </StackPanel>
        </Border>
      </StackPanel>

      <!-- Right Column: Accounts & Controls -->
      <StackPanel Grid.Column="1" Orientation="Vertical" Spacing="16">
        <!-- Login Panel moved here -->
        <Border Classes="panel">
          <StackPanel Orientation="Vertical" Spacing="8">
            <TextBlock Text="ðŸ” ê³„ì • ì •ë³´" FontWeight="Bold"/>
            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto" ColumnSpacing="8" RowSpacing="8">
              <TextBlock Text="ì•„ì´ë””" VerticalAlignment="Center"/>
              <TextBox Grid.Column="1" x:Name="LoginUsername" Watermark="Instagram ì•„ì´ë””"/>
              <TextBlock Grid.Row="1" Text="ë¹„ë°€ë²ˆí˜¸" VerticalAlignment="Center"/>
              <TextBox Grid.Row="1" Grid.Column="1" x:Name="LoginPassword" PasswordChar="â—" Watermark="ë¹„ë°€ë²ˆí˜¸"/>
            </Grid>
          </StackPanel>
        </Border>
        <Border Classes="panel">
          <StackPanel Orientation="Vertical" Spacing="8">
            <Grid ColumnDefinitions="Auto" VerticalAlignment="Center">
              <TextBlock Text="ì•„ì´ë”” ë“±ë¡ ë° ìž‘ì—…ì„¤ì •" FontWeight="Bold"/>
            </Grid>
            <!-- User add row -->
            <Grid ColumnDefinitions="*,Auto,Auto,Auto" ColumnSpacing="8">
              <TextBox x:Name="UsernameEntry" Watermark="ì‚¬ìš©ìžëª… (ì‰¼í‘œ ë˜ëŠ” ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)" AcceptsReturn="True" ScrollViewer.VerticalScrollBarVisibility="Auto" Height="220"/>
              <Button Grid.Column="1" x:Name="AddButton" Content="ì¶”ê°€" Classes="primary" MinWidth="80"/>
              <Button Grid.Column="2" x:Name="DeleteSelectedButton" Content="ì„ íƒì‚­ì œ" MinWidth="90"/>
              <Button Grid.Column="3" x:Name="DeleteAllButton" Content="ì „ì²´ì‚­ì œ" MinWidth="90"/>
            </Grid>
            <Border Background="#0f0f0f" CornerRadius="4" Height="220">
              <ScrollViewer>
                <StackPanel x:Name="UsersPanel" Spacing="6" Margin="8"/>
              </ScrollViewer>
            </Border>
            <StackPanel Orientation="Horizontal" Spacing="8">
              <Button Content="ì„ íƒì‹œìž‘" Classes="primary" MinWidth="90"/>
              <Button Content="ìž‘ì—…ì •ì§€" MinWidth="90"/>
              <Button Content="ì„ íƒì‚­ì œ" MinWidth="90"/>
            </StackPanel>
          </StackPanel>
        </Border>
      </StackPanel>
    </Grid>

    <!-- Bottom: Status + Log -->
    <Border Grid.Row="2" Classes="panel">
      <StackPanel Orientation="Vertical" Spacing="12">
        <Grid ColumnDefinitions="Auto,*" VerticalAlignment="Center">
          <StackPanel Orientation="Horizontal" Spacing="20">
            <TextBlock x:Name="StatusLabel" Text="ðŸŸ¢ ìƒíƒœ: ì¤€ë¹„ë¨" FontWeight="Medium"/>
            <TextBlock x:Name="CurrentUserLabel" Text="ðŸ‘¤ í˜„ìž¬ ì‚¬ìš©ìž: -" FontWeight="Medium"/>
          </StackPanel>
          <ProgressBar Grid.Column="1" x:Name="ProgressBar" Height="14" Minimum="0" Maximum="100" Background="#0f0f0f" Foreground="#FFD700" CornerRadius="7"/>
        </Grid>
        <Border Background="#0f0f0f" CornerRadius="6" Height="240">
          <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <TextBox x:Name="LogText" AcceptsReturn="True" Background="Transparent" BorderThickness="0"/>
          </ScrollViewer>
        </Border>
      </StackPanel>
    </Border>
  </Grid>
</Window>


